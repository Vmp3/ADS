<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/front_end/CSS/relatorio.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <title>Senhor Finanças</title>
</head>
<body>
    <Header class="lateral">
        <a href="#home"><img class="logo" src="/front_end/IMG/logo.jpg" alt="Logo da Empresa"></a>
        <h2>Gerenciador Fianceiro</h2>
        <hr>
        <section class="btns-lateral">
            <ul>
                <a href="/front_end/modules/receita/principal_receita.html"><li class="btn">Receitas</li></a>
                <a href="/front_end/modules/despesa/principal_despesas.html"><li class="btn">Despesas</li></a>
                <a href="/front_end/modules/relatorio.html"><li class="btn">Relatorios</li></a>
            </ul>
        </section>
    </Header>
    <main class="principal">
        <section class="titulo">
            <h1>Relatórios</h1>
        </section>
        <section class="preencher">
            <form action="">
                <div class="campo-btn">
                    <div class="campo-ano">
                        <label for="ano">Ano:</label>
                        <input class="input" type="number" name="ano" id="ano">
                    </div>
                    <div class="btn-gerar">
                        <button class="botao" type="submit">Gerar</button>
                    </div>
                </div>
            </form>
        </section>
        <section class="relatorio">
            <canvas id="meuGrafico" style="width: 100%; max-width: 1400px"></canvas>
 
            <script>
                const meses = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];
                const valoresReceita = [12000, 13000, 14000, 1100, 15000, 1500, 1400, 1600, 1200, 1300, 1100, 1000];
                const valoresDespesa = [800, 900, 700, 850, 950, 1200, 1100, 1300, 1000, 1100, 900, 800];
                const coresBarras = ["#ccffcc", "#ffcccc"]; // Verde claro e Vermelho claro
         
                new Chart("meuGrafico", {
                    type: "bar",
                    data: {
                        labels: meses,
                        datasets: [
                            {
                                label: "Total de Receitas",
                                backgroundColor: coresBarras[0],
                                data: valoresReceita,
                            },
                            {
                                label: "Total de Despesas",
                                backgroundColor: coresBarras[1],
                                data: valoresDespesa,
                            },
                        ],
                    },
                    options: {
                        legend: {
                            display: true,
                            labels: {
                                fontColor: 'white', // Cor dos rótulos de legenda
                            },
                        },
                        scales: {
                            xAxes: [
                                {
                                    ticks: {
                                        fontColor: "white", // Cor dos rótulos no eixo x
                                    },
                                    gridLines: {
                                        color: "black", // Cor das linhas de grade no eixo x
                                    },
                                },
                            ],
                            yAxes: [
                                {
                                    ticks: {
                                        fontColor: "white", // Cor dos rótulos no eixo y
                                        callback: function(value, index, values) {
                                            // Formatação para separador de milhares
                                            return value.toLocaleString('pt-BR');
                                        }
                                    },
                                    gridLines: {
                                        color: "black", // Cor das linhas de grade no eixo y
                                    },
                                },
                            ],
                        },
                        plugins: {
                            datalabels: {
                                color: 'white', // Cor do texto dentro das barras
                                anchor: 'end',
                                align: 'end',
                            }
                        },
                    },
                });
            </script>
        </section>
    </main>
</body>
</html>